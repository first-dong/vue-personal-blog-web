<script setup lang="ts">
interface TimelineItem {
  year: string
  title: string
  org: string
  desc: string
  icon: string
  type: 'education' | 'work' | 'project'
}

const timeline: TimelineItem[] = [
  {
    year: '2024 - è‡³ä»Š',
    title: 'å…¨æ ˆå·¥ç¨‹å¸ˆ',
    org: 'æŸäº’è”ç½‘å…¬å¸',
    desc: 'è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡ç³»ç»Ÿçš„æ¶æ„è®¾è®¡ä¸å¼€å‘ï¼Œä¸»å¯¼å¾®æœåŠ¡æ‹†åˆ†ï¼ŒæŠ€æœ¯æ ˆ Spring Cloud + Vue 3ã€‚',
    icon: 'ğŸ’¼',
    type: 'work',
  },
  {
    year: '2023',
    title: 'ä¸ªäººåšå®¢ç³»ç»Ÿ',
    org: 'å¼€æºé¡¹ç›®',
    desc: 'ç‹¬ç«‹å¼€å‘åŸºäº Spring Boot + Nuxt 4 çš„ä¸ªäººåšå®¢ï¼Œæ”¯æŒ Markdownã€å¼¹å¹•ã€è¯„è®ºç­‰åŠŸèƒ½ã€‚',
    icon: 'ğŸš€',
    type: 'project',
  },
  {
    year: '2022 - 2023',
    title: 'åç«¯å¼€å‘å·¥ç¨‹å¸ˆ',
    org: 'æŸç§‘æŠ€å…¬å¸',
    desc: 'å‚ä¸ç”µå•†å¹³å°å¼€å‘ï¼Œè´Ÿè´£è®¢å•ã€åº“å­˜ã€æ”¯ä»˜ç­‰æ ¸å¿ƒæ¨¡å—ï¼Œä¼˜åŒ–æ•°æ®åº“æ€§èƒ½æå‡30%ã€‚',
    icon: 'ğŸ’¼',
    type: 'work',
  },
  {
    year: '2018 - 2022',
    title: 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ æœ¬ç§‘',
    org: 'æŸé‡ç‚¹å¤§å­¦',
    desc: 'ä¸»ä¿®æ•°æ®ç»“æ„ã€æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œï¼Œè¿ç»­ä¸‰å¹´è·å­¦ä¸šå¥–å­¦é‡‘ã€‚',
    icon: 'ğŸ“',
    type: 'education',
  },
]

const typeColorMap: Record<string, string> = {
  education: '#10b981',
  work: '#6366f1',
  project: '#f59e0b',
}
</script>

<template>
  <div class="timeline-section">
    <h2 class="section-title">ä¸ªäººç»å†</h2>
    <div class="timeline">
      <div
        v-for="(item, index) in timeline"
        :key="index"
        class="timeline-item"
      >
        <!-- å·¦ä¾§æ—¶é—´è½´çº¿ -->
        <div class="timeline-line">
          <div
            class="timeline-node"
            :style="{ background: typeColorMap[item.type], boxShadow: `0 0 8px ${typeColorMap[item.type]}66` }"
          >
            <span class="node-icon">{{ item.icon }}</span>
          </div>
          <div v-if="index < timeline.length - 1" class="timeline-connector" />
        </div>

        <!-- å³ä¾§å†…å®¹ -->
        <div class="timeline-content">
          <div class="timeline-year">{{ item.year }}</div>
          <div class="timeline-card">
            <div class="card-header">
              <span class="card-title">{{ item.title }}</span>
              <span
                class="card-badge"
                :style="{ color: typeColorMap[item.type], background: typeColorMap[item.type] + '1a' }"
              >{{ item.org }}</span>
            </div>
            <p class="card-desc">{{ item.desc }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.timeline-section {
  display: flex;
  flex-direction: column;
  gap: 0.875rem;
}

.section-title {
  font-size: 1.125rem;
  font-weight: 700;
  color: #fff;
  margin: 0 0 0.25rem;
}

.timeline {
  display: flex;
  flex-direction: column;
}

.timeline-item {
  display: flex;
  gap: 0.875rem;
}

/* Left axis */
.timeline-line {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
  width: 36px;
}

.timeline-node {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  z-index: 1;
}

.node-icon {
  font-size: 1rem;
}

.timeline-connector {
  flex: 1;
  width: 2px;
  background: rgba(255, 255, 255, 0.1);
  margin: 4px 0;
  min-height: 20px;
}

/* Right content */
.timeline-content {
  flex: 1;
  padding-bottom: 1.25rem;
}

.timeline-year {
  font-size: 0.72rem;
  color: rgba(255, 255, 255, 0.4);
  margin-bottom: 0.4rem;
  margin-top: 0.5rem;
}

.timeline-card {
  padding: 0.875rem;
  border-radius: 0.75rem;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.card-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.card-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
}

.card-badge {
  font-size: 0.68rem;
  padding: 0.1rem 0.5rem;
  border-radius: 999px;
  font-weight: 500;
}

.card-desc {
  font-size: 0.78rem;
  color: rgba(255, 255, 255, 0.55);
  margin: 0;
  line-height: 1.55;
}
</style>
